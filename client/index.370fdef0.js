import{i as t,S as e,a as n,s as r,b as a,c as o,d as l,e as s,f as i,g as c,T as u,h as f,j as h,k as d,l as $,m as p,n as g,o as m,p as y,t as x,q as v,r as w,u as b,v as _,w as k,x as E,y as M,z as F,A as C,B as V,C as D,D as N,E as I,F as T,G as A,H as L,I as S,J as z,K as B,L as H,M as R,N as j,O,P as q,Q as P,R as U,U as Z}from"./client.35bd5550.js";import{S as X,r as G,d as Y,t as W,i as K,s as J,c as Q,x as tt,y as et,p as nt,a as rt,L as at,T as ot,f as lt,m as st,l as it,b as ct}from"./formatMovementToLinedata.4ddf9534.js";import{S as ut}from"./sharer.ede6e674.js";function ft(t){const e=t-1;return e*e*e+1}function ht(e,{delay:n=0,duration:r=400,easing:a=t}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:a,css:t=>"opacity: "+t*o}}function dt(t,{delay:e=0,duration:n=400,easing:r=ft,start:a=0,opacity:o=0}){const l=getComputedStyle(t),s=+l.opacity,i="none"===l.transform?"":l.transform,c=1-a,u=s*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${i} scale(${1-c*e});\n\t\t\topacity: ${s-u*e}\n\t\t`}}var $t,pt,gt=(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.clickOutside=void 0,e.clickOutside=function(t,e){var n=function(n){return t&&!t.contains(n.target)&&!n.defaultPrevented&&e()};return document.addEventListener("click",n,!0),{destroy:function(){document.removeEventListener("click",n,!0)}}}}(pt={path:$t,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&pt.path)}},pt.exports),pt.exports);function mt(t){let e;return{c(){e=a("line"),this.h()},l(t){e=o(t,"line",{x1:!0,y1:!0,x2:!0,y2:!0,"stroke-width":!0},1),l(e).forEach(s),this.h()},h(){i(e,"x1","4"),i(e,"y1","4.37114e-08"),i(e,"x2","4"),i(e,"y2","8"),i(e,"stroke-width","2")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function yt(t){let e,n=t[0].label+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[0].label+"")&&k(e,n)},d(t){t&&s(e)}}}function xt(t){let e,n,r,b,_,k,E,M,F,C,V,D=!t[1]&&mt();return M=new u({props:{as:"subtitle4",$$slots:{default:[yt]},$$scope:{ctx:t}}}),{c(){e=f("button"),n=f("div"),r=a("svg"),b=a("line"),D&&D.c(),E=h(),d(M.$$.fragment),this.h()},l(t){e=o(t,"BUTTON",{class:!0});var a=l(e);n=o(a,"DIV",{class:!0,style:!0});var i=l(n);r=o(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,xmlns:!0,class:!0},1);var c=l(r);b=o(c,"line",{y1:!0,x2:!0,y2:!0,"stroke-width":!0},1),l(b).forEach(s),D&&D.l(c),c.forEach(s),i.forEach(s),E=$(a),p(M.$$.fragment,a),a.forEach(s),this.h()},h(){i(b,"y1","4"),i(b,"x2","8"),i(b,"y2","4"),i(b,"stroke-width","2"),i(r,"width","8"),i(r,"height","8"),i(r,"viewBox","0 0 8 8"),i(r,"fill","none"),i(r,"stroke",_=t[1]?t[3]:t[2]),i(r,"xmlns","http://www.w3.org/2000/svg"),i(r,"class","m-auto"),i(n,"class","border-2 border-black rounded-full my-auto w-4 h-4 text-center flex flex-col justify-center"),i(n,"style",k=`background-color: ${t[1]?t[2]:"none"}; border-color: ${t[2]};`),i(e,"class","flex flex-row text-left p-1 space-x-2 focus:outline-none")},m(a,o){c(a,e,o),g(e,n),g(n,r),g(r,b),D&&D.m(r,null),g(e,E),m(M,e,null),F=!0,C||(V=y(e,"click",t[4]),C=!0)},p(t,[e]){t[1]?D&&(D.d(1),D=null):D||(D=mt(),D.c(),D.m(r,null)),(!F||14&e&&_!==(_=t[1]?t[3]:t[2]))&&i(r,"stroke",_),(!F||6&e&&k!==(k=`background-color: ${t[1]?t[2]:"none"}; border-color: ${t[2]};`))&&i(n,"style",k);const a={};33&e&&(a.$$scope={dirty:e,ctx:t}),M.$set(a)},i(t){F||(x(M.$$.fragment,t),F=!0)},o(t){v(M.$$.fragment,t),F=!1},d(t){t&&s(e),D&&D.d(),w(M),C=!1,V()}}}function vt(t,e,n){let r,a,{option:o}=e,{isActive:l}=e;return t.$$set=t=>{"option"in t&&n(0,o=t.option),"isActive"in t&&n(1,l=t.isActive)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=o.mainColor||"white"),1&t.$$.dirty&&n(3,a=o.accentColor||"#1A171B")},[o,l,r,a,function(e){E(t,e)}]}class wt extends e{constructor(t){super(),n(this,t,vt,xt,r,{option:0,isActive:1})}}function bt(t,e,n){const r=t.slice();return r[10]=e[n],r}function _t(t){let e,n,r,a=t[1].find(t[6]).label+"",o=t[0].length>1&&Mt(t);return{c(){e=b(a),n=h(),o&&o.c(),r=L()},l(t){e=_(t,a),n=$(t),o&&o.l(t),r=L()},m(t,a){c(t,e,a),c(t,n,a),o&&o.m(t,a),c(t,r,a)},p(t,n){3&n&&a!==(a=t[1].find(t[6]).label+"")&&k(e,a),t[0].length>1?o?o.p(t,n):(o=Mt(t),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){t&&s(e),t&&s(n),o&&o.d(t),t&&s(r)}}}function kt(t){let e;return{c(){e=b(t[3])},l(n){e=_(n,t[3])},m(t,n){c(t,e,n)},p(t,n){8&n&&k(e,t[3])},d(t){t&&s(e)}}}function Et(t){let e;return{c(){e=b(t[2])},l(n){e=_(n,t[2])},m(t,n){c(t,e,n)},p(t,n){4&n&&k(e,t[2])},d(t){t&&s(e)}}}function Mt(t){let e,n,r=t[0].length-1+"";return{c(){e=b("+ "),n=b(r)},l(t){e=_(t,"+ "),n=_(t,r)},m(t,r){c(t,e,r),c(t,n,r)},p(t,e){1&e&&r!==(r=t[0].length-1+"")&&k(n,r)},d(t){t&&s(e),t&&s(n)}}}function Ft(t){let e;function n(t,e){return t[0].length===t[1].length?Et:0==t[0].length?kt:_t}let r=n(t),a=r(t);return{c(){a.c(),e=L()},l(t){a.l(t),e=L()},m(t,n){a.m(t,n),c(t,e,n)},p(t,o){r===(r=n(t))&&a?a.p(t,o):(a.d(1),a=r(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&s(e)}}}function Ct(t){let e,n,r,a,u=t[1],h=[];for(let e=0;e<u.length;e+=1)h[e]=Vt(bt(t,u,e));const d=t=>v(h[t],1,1,(()=>{h[t]=null}));return{c(){e=f("div"),n=f("div");for(let t=0;t<h.length;t+=1)h[t].c();this.h()},l(t){e=o(t,"DIV",{class:!0});var r=l(e);n=o(r,"DIV",{class:!0});var a=l(n);for(let t=0;t<h.length;t+=1)h[t].l(a);a.forEach(s),r.forEach(s),this.h()},h(){i(n,"class","absolute top-1 left-0 right-0 flex flex-col p-1 rounded bg-black bg-opacity-50 text-white"),i(e,"class","relative w-full")},m(t,r){c(t,e,r),g(e,n);for(let t=0;t<h.length;t+=1)h[t].m(n,null);a=!0},p(t,e){if(35&e){let r;for(u=t[1],r=0;r<u.length;r+=1){const a=bt(t,u,r);h[r]?(h[r].p(a,e),x(h[r],1)):(h[r]=Vt(a),h[r].c(),x(h[r],1),h[r].m(n,null))}for(M(),r=u.length;r<h.length;r+=1)d(r);F()}},i(t){if(!a){for(let t=0;t<u.length;t+=1)x(h[t]);C((()=>{r||(r=V(e,ht,{duration:50},!0)),r.run(1)})),a=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)v(h[t]);r||(r=V(e,ht,{duration:50},!1)),r.run(0),a=!1},d(t){t&&s(e),D(h,t),t&&r&&r.end()}}}function Vt(t){let e,n;return e=new wt({props:{option:t[10],isActive:t[0].includes(t[10].key)}}),e.$on("click",(function(){return t[8](t[10])})),{c(){d(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,r){m(e,t,r),n=!0},p(n,r){t=n;const a={};2&r&&(a.option=t[10]),3&r&&(a.isActive=t[0].includes(t[10].key)),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Dt(t){let e,n,r,b,_,k,E,C,V,D,L,S,z;b=new u({props:{as:"subtitle4",$$slots:{default:[Ft]},$$scope:{ctx:t}}});let B=t[4]&&Ct(t);return{c(){e=f("div"),n=f("button"),r=f("div"),d(b.$$.fragment),_=h(),k=a("svg"),E=a("path"),V=h(),B&&B.c(),this.h()},l(t){e=o(t,"DIV",{class:!0});var a=l(e);n=o(a,"BUTTON",{class:!0});var i=l(n);r=o(i,"DIV",{class:!0});var c=l(r);p(b.$$.fragment,c),c.forEach(s),_=$(i),k=o(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0},1);var u=l(k);E=o(u,"path",{d:!0},1),l(E).forEach(s),u.forEach(s),i.forEach(s),V=$(a),B&&B.l(a),a.forEach(s),this.h()},h(){i(r,"class","flex-1 text-left"),i(E,"d","M1 1L5 5L9 1"),i(k,"width","10"),i(k,"height","6"),i(k,"viewBox","0 0 10 6"),i(k,"fill","none"),i(k,"xmlns","http://www.w3.org/2000/svg"),i(k,"class","stroke-current my-auto transform transition-transform duration-100 ease-in-out"),N(k,"rotate-180",t[4]),i(n,"class",C="flex flex-row px-2 py-1 space-x-2 rounded focus:outline-none w-full "+(t[4]?"bg-white":"hover:bg-white hover:bg-opacity-50")),i(e,"class","w-32 md:w-40 my-auto")},m(a,o){c(a,e,o),g(e,n),g(n,r),m(b,r,null),g(n,_),g(n,k),g(k,E),g(e,V),B&&B.m(e,null),L=!0,S||(z=[y(n,"click",t[7]),I(D=gt.clickOutside.call(null,e,t[9]))],S=!0)},p(t,[r]){const a={};8207&r&&(a.$$scope={dirty:r,ctx:t}),b.$set(a),16&r&&N(k,"rotate-180",t[4]),(!L||16&r&&C!==(C="flex flex-row px-2 py-1 space-x-2 rounded focus:outline-none w-full "+(t[4]?"bg-white":"hover:bg-white hover:bg-opacity-50")))&&i(n,"class",C),t[4]?B?(B.p(t,r),16&r&&x(B,1)):(B=Ct(t),B.c(),x(B,1),B.m(e,null)):B&&(M(),v(B,1,1,(()=>{B=null})),F()),D&&T(D.update)&&16&r&&D.update.call(null,t[9])},i(t){L||(x(b.$$.fragment,t),x(B),L=!0)},o(t){v(b.$$.fragment,t),v(B),L=!1},d(t){t&&s(e),w(b),B&&B.d(),S=!1,A(z)}}}function Nt(t,e,n){let{filter:r}=e,{activeFilter:a}=e,{selectedAllLabel:o}=e,{selectedNoneLabel:l}=e,s=!1;function i(t){n(0,a=a.includes(t)?a.filter((e=>e!==t)):r.filter((({key:e})=>a.includes(e)||e===t)).map((({key:t})=>t)))}return t.$$set=t=>{"filter"in t&&n(1,r=t.filter),"activeFilter"in t&&n(0,a=t.activeFilter),"selectedAllLabel"in t&&n(2,o=t.selectedAllLabel),"selectedNoneLabel"in t&&n(3,l=t.selectedNoneLabel)},[a,r,o,l,s,i,({key:t})=>t===a[0],()=>n(4,s=!s),t=>i(t.key),()=>n(4,s=!1)]}class It extends e{constructor(t){super(),n(this,t,Nt,Dt,r,{filter:1,activeFilter:0,selectedAllLabel:2,selectedNoneLabel:3})}}function Tt(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(a);++r<a;)o[r]=t+r*n;return o}function At(t){return"string"==typeof t?new X([[document.querySelector(t)]],[document.documentElement]):new X([[t]],G)}function Lt(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}function St(t){t.stopImmediatePropagation()}function zt(t){t.preventDefault(),t.stopImmediatePropagation()}var Bt=t=>()=>t;function Ht(t,{sourceEvent:e,subject:n,target:r,identifier:a,active:o,x:l,y:s,dx:i,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:i,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Rt(t){return!t.ctrlKey&&!t.button}function jt(){return this.parentNode}function Ot(t,e){return null==e?{x:t.x,y:t.y}:e}function qt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pt(){var t,e,n,r,a=Rt,o=jt,l=Ot,s=qt,i={},c=Y("start","drag","end"),u=0,f=0;function h(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(l,s){if(!r&&a.call(this,l,s)){var i=x(this,o.call(this,l,s),l,s,"mouse");i&&(At(l.view).on("mousemove.drag",$,!0).on("mouseup.drag",p,!0),function(t){var e=t.document.documentElement,n=At(t).on("dragstart.drag",zt,!0);"onselectstart"in e?n.on("selectstart.drag",zt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(l.view),St(l),n=!1,t=l.clientX,e=l.clientY,i("start",l))}}function $(r){if(zt(r),!n){var a=r.clientX-t,o=r.clientY-e;n=a*a+o*o>f}i.mouse("drag",r)}function p(t){At(t.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,r=At(t).on("dragstart.drag",null);e&&(r.on("click.drag",zt,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,n),zt(t),i.mouse("end",t)}function g(t,e){if(a.call(this,t,e)){var n,r,l=t.changedTouches,s=o.call(this,t,e),i=l.length;for(n=0;n<i;++n)(r=x(this,s,t,e,l[n].identifier,l[n]))&&(St(t),r("start",t,l[n]))}}function m(t){var e,n,r=t.changedTouches,a=r.length;for(e=0;e<a;++e)(n=i[r[e].identifier])&&(zt(t),n("drag",t,r[e]))}function y(t){var e,n,a=t.changedTouches,o=a.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=i[a[e].identifier])&&(St(t),n("end",t,a[e]))}function x(t,e,n,r,a,o){var s,f,d,$=c.copy(),p=Lt(o||n,e);if(null!=(d=l.call(t,new Ht("beforestart",{sourceEvent:n,target:h,identifier:a,active:u,x:p[0],y:p[1],dx:0,dy:0,dispatch:$}),r)))return s=d.x-p[0]||0,f=d.y-p[1]||0,function n(o,l,c){var g,m=p;switch(o){case"start":i[a]=n,g=u++;break;case"end":delete i[a],--u;case"drag":p=Lt(c||l,e),g=u}$.call(o,t,new Ht(o,{sourceEvent:l,subject:d,target:h,identifier:a,active:g,x:p[0]+s,y:p[1]+f,dx:p[0]-m[0],dy:p[1]-m[1],dispatch:$}),r)}}return h.filter=function(t){return arguments.length?(a="function"==typeof t?t:Bt(!!t),h):a},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Bt(t),h):o},h.subject=function(t){return arguments.length?(l="function"==typeof t?t:Bt(t),h):l},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Bt(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}function Ut(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var a,o,l,s,i,c,u,f,h,d=t._root,$={data:r},p=t._x0,g=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=$,t;for(;d.length;)if((c=e>=(o=(p+m)/2))?p=o:m=o,(u=n>=(l=(g+y)/2))?g=l:y=l,a=d,!(d=d[f=u<<1|c]))return a[f]=$,t;if(s=+t._x.call(null,d.data),i=+t._y.call(null,d.data),e===s&&n===i)return $.next=d,a?a[f]=$:t._root=$,t;do{a=a?a[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(p+m)/2))?p=o:m=o,(u=n>=(l=(g+y)/2))?g=l:y=l}while((f=u<<1|c)==(h=(i>=l)<<1|s>=o));return a[h]=d,a[f]=$,t}function Zt(t,e,n,r,a){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=a}function Xt(t){return t[0]}function Gt(t){return t[1]}function Yt(t,e,n){var r=new Wt(null==e?Xt:e,null==n?Gt:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Wt(t,e,n,r,a,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=a,this._y1=o,this._root=void 0}function Kt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Ht.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Jt=Yt.prototype=Wt.prototype;function Qt(t){return function(){return t}}function te(t){return 1e-6*(t()-.5)}function ee(t){return t.x+t.vx}function ne(t){return t.y+t.vy}function re(t){return t.index}function ae(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}Jt.copy=function(){var t,e,n=new Wt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Kt(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var a=0;a<4;++a)(e=r.source[a])&&(e.length?t.push({source:e,target:r.target[a]=new Array(4)}):r.target[a]=Kt(e));return n},Jt.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Ut(this.cover(e,n),e,n,t)},Jt.addAll=function(t){var e,n,r,a,o=t.length,l=new Array(o),s=new Array(o),i=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(l[n]=r,s[n]=a,r<i&&(i=r),r>u&&(u=r),a<c&&(c=a),a>f&&(f=a));if(i>u||c>f)return this;for(this.cover(i,c).cover(u,f),n=0;n<o;++n)Ut(this,l[n],s[n],t[n]);return this},Jt.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,a=this._x1,o=this._y1;if(isNaN(n))a=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var l,s,i=a-n||1,c=this._root;n>t||t>=a||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(l=new Array(4))[s]=c,c=l,i*=2,s){case 0:a=n+i,o=r+i;break;case 1:n=a-i,o=r+i;break;case 2:a=n+i,r=o-i;break;case 3:n=a-i,r=o-i}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=a,this._y1=o,this},Jt.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Jt.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Jt.find=function(t,e,n){var r,a,o,l,s,i,c,u=this._x0,f=this._y0,h=this._x1,d=this._y1,$=[],p=this._root;for(p&&$.push(new Zt(p,u,f,h,d)),null==n?n=1/0:(u=t-n,f=e-n,h=t+n,d=e+n,n*=n);i=$.pop();)if(!(!(p=i.node)||(a=i.x0)>h||(o=i.y0)>d||(l=i.x1)<u||(s=i.y1)<f))if(p.length){var g=(a+l)/2,m=(o+s)/2;$.push(new Zt(p[3],g,m,l,s),new Zt(p[2],a,m,g,s),new Zt(p[1],g,o,l,m),new Zt(p[0],a,o,g,m)),(c=(e>=m)<<1|t>=g)&&(i=$[$.length-1],$[$.length-1]=$[$.length-1-c],$[$.length-1-c]=i)}else{var y=t-+this._x.call(null,p.data),x=e-+this._y.call(null,p.data),v=y*y+x*x;if(v<n){var w=Math.sqrt(n=v);u=t-w,f=e-w,h=t+w,d=e+w,r=p.data}}return r},Jt.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(l=+this._y.call(null,t)))return this;var e,n,r,a,o,l,s,i,c,u,f,h,d=this._root,$=this._x0,p=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=($+g)/2))?$=s:g=s,(u=l>=(i=(p+m)/2))?p=i:m=i,e=d,!(d=d[f=u<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(a=d.next)&&delete d.next,r?(a?r.next=a:delete r.next,this):e?(a?e[f]=a:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=a,this)},Jt.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Jt.root=function(){return this._root},Jt.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Jt.visit=function(t){var e,n,r,a,o,l,s=[],i=this._root;for(i&&s.push(new Zt(i,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(i=e.node,r=e.x0,a=e.y0,o=e.x1,l=e.y1)&&i.length){var c=(r+o)/2,u=(a+l)/2;(n=i[3])&&s.push(new Zt(n,c,u,o,l)),(n=i[2])&&s.push(new Zt(n,r,u,c,l)),(n=i[1])&&s.push(new Zt(n,c,a,o,u)),(n=i[0])&&s.push(new Zt(n,r,a,c,u))}return this},Jt.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Zt(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var a=e.node;if(a.length){var o,l=e.x0,s=e.y0,i=e.x1,c=e.y1,u=(l+i)/2,f=(s+c)/2;(o=a[0])&&n.push(new Zt(o,l,s,u,f)),(o=a[1])&&n.push(new Zt(o,u,s,i,f)),(o=a[2])&&n.push(new Zt(o,l,f,u,c)),(o=a[3])&&n.push(new Zt(o,u,f,i,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Jt.x=function(t){return arguments.length?(this._x=t,this):this._x},Jt.y=function(t){return arguments.length?(this._y=t,this):this._y};const oe=4294967296;var le=Math.PI*(3-Math.sqrt(5));function se(t){var e,n=1,r=.001,a=1-Math.pow(r,1/300),o=0,l=.6,s=new Map,i=W(f),c=Y("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%oe)/oe}();function f(){h(),c.call("tick",e),n<r&&(i.stop(),c.call("end",e))}function h(r){var i,c,u=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*a,s.forEach((function(t){t(n)})),i=0;i<u;++i)null==(c=t[i]).fx?c.x+=c.vx*=l:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=l:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var a=10*Math.sqrt(.5+n),o=n*le;e.x=a*Math.cos(o),e.y=a*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function $(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return i.restart(f),e},stop:function(){return i.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach($),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(a=+t,e):+a},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(l=1-t,e):1-l},randomSource:function(t){return arguments.length?(u=t,s.forEach($),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,$(n)),e):s.get(t)},find:function(e,n,r){var a,o,l,s,i,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(l=(a=e-(s=t[c]).x)*a+(o=n-s.y)*o)<r&&(i=s,r=l);return i},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}const ie=Symbol("implicit");function ce(){var t=new Map,e=[],n=[],r=ie;function a(a){var o=a+"",l=t.get(o);if(!l){if(r!==ie)return r;t.set(o,l=e.push(a))}return n[(l-1)%n.length]}return a.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return a},a.range=function(t){return arguments.length?(n=Array.from(t),a):n.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return ce(e,n).unknown(r)},K.apply(a,arguments),a}function ue(t){return t.source}function fe(t){return t.target}function he(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+a)/2,r,n,r,a)}function de(){return function(t){var e=ue,n=fe,r=tt,a=et,o=null;function l(){var l,s=J.call(arguments),i=e.apply(this,s),c=n.apply(this,s);if(o||(o=l=nt()),t(o,+r.apply(this,(s[0]=i,s)),+a.apply(this,s),+r.apply(this,(s[0]=c,s)),+a.apply(this,s)),l)return o=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(r="function"==typeof t?t:Q(+t),l):r},l.y=function(t){return arguments.length?(a="function"==typeof t?t:Q(+t),l):a},l.context=function(t){return arguments.length?(o=null==t?null:t,l):o},l}(he)}function $e(t){return function(){return t}}function pe(){var t,e,n,r,a,o,l,s,i=$e(-30),c=0,u=1,f=1/0,h=function(){return 15},d=function(t){return Math.pow(t.length,.75)},$=function(t){return Math.pow(t.length,.25)},p=function(t){return t.length<100?1:t.length<200?3:Math.sqrt(t.length)},g=Math.random;function m(e){var n,r,o,l,s=Math.floor(g()*t.length),i=t[s],c=(e.x-i.x)*(e.x-i.x)+(e.y-i.y)*(e.y-i.y),u=-1/0,f=-1;if(!(e.nearest.indexOf(s)>=0))if(e.nearest.length<a)e.nearest.push(s);else{for(;++f<e.nearest.length;)n=e.nearest[f],r=t[n],(o=Math.hypot(e.x-r.x,e.y-r.y))>u&&(l=f,u=o);c<u&&(e.nearest[l]=s)}}function y(a){var o,i,c,h,d,$,p;for(i=function(e,n){n=Math.floor(n);var r,a,o,l=t.length,s=l-n;for(r=l-1;r>=s;--r)o=e[a=Math.floor(g()*r)],e[a]=e[r],e[r]=o;return e.slice(s)}(r,l),o=i.length-1;o>=0;--o)(c=t[i[o]])!==a&&((p=(d=c.x-a.x)*d+($=c.y-a.y)*$)>=f||(0===d&&(p+=(d=1e-6*(g()-.5))*d),0===$&&(p+=($=1e-6*(g()-.5))*$),p<u&&(p=Math.sqrt(u*p)),h=n[a.index]*e*s/p,a.vx+=d*h,a.vy+=$*h))}function x(r){var o,l,i,c,h,d,$;if(a&&m(r),l=r.nearest,a)for(o=l.length-1;o>=0;--o)(i=t[l[o]])!==r&&(($=(h=i.x-r.x)*h+(d=i.y-r.y)*d)>=f||(0===h&&($+=(h=1e-6*(g()-.5))*h),0===d&&($+=(d=1e-6*(g()-.5))*d),$<u&&($=Math.sqrt(u*$)),c=n[r.index]*e*s/$,r.vx+=h*c,r.vy+=d*c))}function v(n){var r=0,l=c,s=t.length,i=c+o;for(e=n;r<s||l<i;++r,++l)l<i&&y(t[l%s]),a&&r<s&&x(t[r]);c=i%s}function w(){if(t){var c,u,f=t.length;for(r=new Array(f),c=0;c<f;++c)r[c]=c;for(n=new Array(f),a=(a=Math.min(Math.ceil(h(t)),f))<0?0:Math.min(a,t.length),o=(o=Math.ceil(d(t)))<0?0:Math.min(o,f),l=(l=Math.ceil($(t)))<0?0:Math.min(l,f),s=p(t),e=1,c=0;c<f;++c)for(u=t[c],n[u.index]=+i(u,c,t),u.nearest=[];u.nearest.length<a;)m(u)}}return v.initialize=function(e){t=e,w()},v.strength=function(t){return arguments.length?(i="function"==typeof t?t:$e(+t),w(),v):i},v.distanceMin=function(t){return arguments.length?(u=t*t,v):Math.sqrt(u)},v.distanceMax=function(t){return arguments.length?(f=t*t,v):Math.sqrt(f)},v.neighborSize=function(t){return arguments.length?(h="function"==typeof t?t:$e(+t),w(),v):h},v.updateSize=function(t){return arguments.length?(d="function"==typeof t?t:$e(+t),w(),v):d},v.sampleSize=function(t){return arguments.length?($="function"==typeof t?t:$e(+t),w(),v):$},v.chargeMultiplier=function(t){return arguments.length?(p="function"==typeof t?t:$e(+t),w(),v):p},v.source=function(t){return arguments.length?(g=t,v):g},v}const ge=[new Date(2019,10,1),new Date(2021,0,31)];function me(t,e,n,r,a,o){const l=e.clientWidth,s=e.clientHeight,i=l>s?"desktop":"mobile";let c,u=!1,f=[];const h=ce(Tt(1,5),["#FFFFFF","#C1B1F0","#FF7A00","#1A171B"]).unknown("#00ff00"),d=ce(Tt(1,5),["#C8FFF3","#B5E8EF","#C8D7A7","#83B9AF"]).unknown("#00ff00"),$=Tt(1,3),p=ce($,["#0CC6C6","#FF655D"]).unknown("#00ff00"),g=ce($,["#7EEEE1","#C6D1C2"]).unknown("#00ff00"),m=rt(ge,[-l/2,l/2]),y=(t,e=!0)=>Math.max(5,Math.min(l-5,t+(e?l/2:0))),x=(t,e=!0)=>Math.max(5,Math.min(s-5,t+(e?s/2:0))),v=At(e),w=(t,e)=>{v.append("defs").selectAll("marker").data($).join("marker").attr("id",(e=>`arrow-${e}`+t)).attr("viewBox","0 -5 10 10").attr("refX",16).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("path").attr("fill",e).attr("d","M0,-5L10,0L0,5")};w("",(t=>p(t))),w("-muted",(t=>g(t)));const b=t=>Math.sqrt(_[t]),{node_sizes:_,nodes:k,links:E,stems:M}=t,F=k.map((({date:t,time_show:e,x_desktop:n,x_mobile:r,y_desktop:a,y_mobile:o,...c})=>{const u={x_desktop:n,x_mobile:r,y_desktop:a,y_mobile:o};return{...c,x:u["x_"+i]?(u["x_"+i]-50)*l/100:m(t)+Math.random(),y:u["y_"+i]?(50-u["y_"+i])*s/100:2===e?s/3:Math.random()}})),C=M.map((({date:t,...e},n)=>({...e,target:F[n],source:{x:m(t),y:s/2}})));c=se(F).force("link",function(t){var e,n,r,a,o,l,s=re,i=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},c=Qt(30),u=1;function f(r){for(var a=0,s=t.length;a<u;++a)for(var i,c,f,h,d,$,p,g=0;g<s;++g)c=(i=t[g]).source,h=(f=i.target).x+f.vx-c.x-c.vx||te(l),d=f.y+f.vy-c.y-c.vy||te(l),h*=$=(($=Math.sqrt(h*h+d*d))-n[g])/$*r*e[g],d*=$,f.vx-=h*(p=o[g]),f.vy-=d*p,c.vx+=h*(p=1-p),c.vy+=d*p}function h(){if(r){var l,i,c=r.length,u=t.length,f=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(l=0,a=new Array(c);l<u;++l)(i=t[l]).index=l,"object"!=typeof i.source&&(i.source=ae(f,i.source)),"object"!=typeof i.target&&(i.target=ae(f,i.target)),a[i.source.index]=(a[i.source.index]||0)+1,a[i.target.index]=(a[i.target.index]||0)+1;for(l=0,o=new Array(u);l<u;++l)i=t[l],o[l]=a[i.source.index]/(a[i.source.index]+a[i.target.index]);e=new Array(u),d(),n=new Array(u),$()}}function d(){if(r)for(var n=0,a=t.length;n<a;++n)e[n]=+i(t[n],n,t)}function $(){if(r)for(var e=0,a=t.length;e<a;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,l=e,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(u=+t,f):u},f.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qt(+t),d(),f):i},f.distance=function(t){return arguments.length?(c="function"==typeof t?t:Qt(+t),$(),f):c},f}(E).id((t=>t.id)).distance(10).distance((t=>5*(b(t.source.id)+b(t.target.id))+10)).strength(.5)).force("charge",pe().strength(-.2)).force("collide",function(t){var e,n,r,a=1,o=1;function l(){for(var t,l,i,c,u,f,h,d=e.length,$=0;$<o;++$)for(l=Yt(e,ee,ne).visitAfter(s),t=0;t<d;++t)i=e[t],f=n[i.index],h=f*f,c=i.x+i.vx,u=i.y+i.vy,l.visit(p);function p(t,e,n,o,l){var s=t.data,d=t.r,$=f+d;if(!s)return e>c+$||o<c-$||n>u+$||l<u-$;if(s.index>i.index){var p=c-s.x-s.vx,g=u-s.y-s.vy,m=p*p+g*g;m<$*$&&(0===p&&(m+=(p=te(r))*p),0===g&&(m+=(g=te(r))*g),m=($-(m=Math.sqrt(m)))/m*a,i.vx+=(p*=m)*($=(d*=d)/(h+d)),i.vy+=(g*=m)*$,s.vx-=p*($=1-$),s.vy-=g*$)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function i(){if(e){var r,a,o=e.length;for(n=new Array(o),r=0;r<o;++r)a=e[r],n[a.index]=+t(a,r,e)}}return"function"!=typeof t&&(t=Qt(null==t?1:+t)),l.initialize=function(t,n){e=t,r=n,i()},l.iterations=function(t){return arguments.length?(o=+t,l):o},l.strength=function(t){return arguments.length?(a=+t,l):a},l.radius=function(e){return arguments.length?(t="function"==typeof e?e:Qt(+e),i(),l):t},l}().radius((t=>5*(b(t.id)+1))).strength(.2)).tick(20);const V=t=>p(t.type),D=t=>`url(${new URL(`#arrow-${t.type}`,location.toString())})`,N=v.append("g").selectAll("path").data(E).join("path").attr("fill","none").attr("stroke-width",5/4).attr("stroke",V).attr("marker-end",D),I=t=>h(t.type),T=t=>t.shown?"unset":"none",A=v.append("g").selectAll("path").data(C).join("path").attr("fill","none").attr("stroke-width",5/4).attr("stroke",I).attr("display",T),L=t=>g(t.type),S=t=>`url(${new URL(`#arrow-${t.type}-muted`,location.toString())})`,z=t=>d(t.type),B=t=>f.includes(t.id),H=t=>(f.includes(t.id)?I:z)(t),R=t=>(f.includes(t.target.id)?I:z)(t),j=t=>(f.includes(t.target.id)?V:L)(t),O=t=>(f.includes(t.target.id)?D:S)(t),q=()=>{Z.attr("fill",H).classed("cursor-pointer",B),A.attr("stroke",R),N.attr("stroke",j).attr("marker-end",O)},P=t=>y(t.x),U=t=>x(t.y),Z=v.append("g").selectAll("circle").data(F).join("circle").classed("node",!0).attr("fill",I).attr("cx",P).attr("cy",U).call(Pt().on("start",(function(t,e){u=!0,t.active||c.alphaTarget(.1).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(t,e){t.active||c.alphaTarget(0),e.fx=null,e.fy=null,u=!1}))).on("mouseover",((t,e)=>{"mobile"!==i&&f.includes(e.id)&&(N.attr("stroke",L).attr("marker-end",S),A.attr("stroke",z).filter((t=>t.target.id===e.id)).raise().attr("stroke",I).attr("display","unset"),Z.attr("fill",z),At(t.currentTarget).attr("fill",I),n(e))})).on("mouseout",((t,e)=>{!u&&f.includes(e.id)&&(q(),A.attr("display",T),r(e))})).on("click",((t,e)=>{"desktop"===i&&f.includes(e.id)&&a(e)})),X=(t,e)=>15*e;N.attr("opacity",0).transition().delay(X).duration(1500).attr("opacity",1),A.attr("opacity",0).transition().delay(X).duration(1500).attr("opacity",1);let G=Z.size();Z.transition().delay(X).duration(1500).attr("r",5).on("end",(()=>G>1?G--:o()));const Y=t=>`M${y(t.source.x)},${x(t.source.y)} L${y(t.target.x)},${x(t.target.y)}`,W=de().source((t=>t.source)).target((t=>t.target)).x((t=>y(t.x))).y((t=>x(t.y)));c.on("tick",(()=>{N.attr("d",Y),A.attr("d",W),Z.attr("cx",P).attr("cy",U)}));return({organizers:t,keyTopics:e,dateRange:[n,r]})=>{f=k.filter((({type:a,key_topic:o,date:l})=>t.includes(a)&&e.some((t=>o.includes(t)))&&l>=n&&l<=r)).map((({id:t})=>t)),q()}}function ye(t){let e,n,r,a,u,y,b,_,k;function E(e){t[7].call(null,e)}r=new at({props:{data:t[5],Y:t[3],X:t[4]}});let M={X:t[4]};return void 0!==t[0]&&(M.dateRange=t[0]),y=new ot({props:M}),S.push((()=>z(y,"dateRange",E))),{c(){e=f("div"),n=f("div"),d(r.$$.fragment),u=h(),d(y.$$.fragment),this.h()},l(t){e=o(t,"DIV",{class:!0});var a=l(e);n=o(a,"DIV",{class:!0,style:!0});var i=l(n);p(r.$$.fragment,i),i.forEach(s),u=$(a),p(y.$$.fragment,a),a.forEach(s),this.h()},h(){i(n,"class","absolute w-full pointer-events-none"),B(n,"transform","translate(0, -100%)"),C((()=>t[6].call(n))),i(e,"class","hidden md:flex flex-1 relative"),C((()=>t[8].call(e)))},m(o,l){c(o,e,l),g(e,n),m(r,n,null),a=H(n,t[6].bind(n)),g(e,u),m(y,e,null),_=H(e,t[8].bind(e)),k=!0},p(t,[e]){const n={};8&e&&(n.Y=t[3]),16&e&&(n.X=t[4]),r.$set(n);const a={};16&e&&(a.X=t[4]),!b&&1&e&&(b=!0,a.dateRange=t[0],R((()=>b=!1))),y.$set(a)},i(t){k||(x(r.$$.fragment,t),x(y.$$.fragment,t),k=!0)},o(t){v(r.$$.fragment,t),v(y.$$.fragment,t),k=!1},d(t){t&&s(e),w(r),a(),w(y),_()}}}function xe(t,e,n){let{dateRange:r}=e;const a=lt(st);let o=1e3,l=300,s=0,i=0,c=0,u=0,f=it().domain([0,ct(a,(t=>t.y))]),h=rt().domain(ge);return t.$$set=t=>{"dateRange"in t&&n(0,r=t.dateRange)},t.$$.update=()=>{12&t.$$.dirty&&n(3,f=f.range([l-c,s])),18&t.$$.dirty&&n(4,h=h.range([u,o-i]))},[r,o,l,f,h,a,function(){l=this.clientHeight,n(2,l)},function(t){r=t,n(0,r)},function(){o=this.clientWidth,n(1,o)}]}class ve extends e{constructor(t){super(),n(this,t,xe,ye,r,{dateRange:0})}}function we(t){let e,n=t[0].data.event_name+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[0].data.event_name+"")&&k(e,n)},d(t){t&&s(e)}}}function be(t){let e,n=t[1](t[0].data.date)+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[1](t[0].data.date)+"")&&k(e,n)},d(t){t&&s(e)}}}function _e(t){let e,n,r,a,y,b,_,k;return r=new u({props:{as:"subtitle5",bold:!0,$$slots:{default:[we]},$$scope:{ctx:t}}}),y=new u({props:{as:"subtitle5",$$slots:{default:[be]},$$scope:{ctx:t}}}),{c(){e=f("div"),n=f("div"),d(r.$$.fragment),a=h(),d(y.$$.fragment),this.h()},l(t){e=o(t,"DIV",{class:!0,style:!0});var i=l(e);n=o(i,"DIV",{class:!0});var c=l(n);p(r.$$.fragment,c),a=$(c),p(y.$$.fragment,c),c.forEach(s),i.forEach(s),this.h()},h(){i(n,"class",b="absolute bottom-2 "+(t[0].tooltipRight?"left-1":"right-1")+" w-48 break-words bg-black bg-opacity-50 text-white p-2 rounded"),i(e,"class","absolute z-20"),B(e,"top",t[0].offsetTop+"px"),B(e,"left",t[0].offsetLeft+"px")},m(t,o){c(t,e,o),g(e,n),m(r,n,null),g(n,a),m(y,n,null),k=!0},p(t,[a]){const o={};5&a&&(o.$$scope={dirty:a,ctx:t}),r.$set(o);const l={};5&a&&(l.$$scope={dirty:a,ctx:t}),y.$set(l),(!k||1&a&&b!==(b="absolute bottom-2 "+(t[0].tooltipRight?"left-1":"right-1")+" w-48 break-words bg-black bg-opacity-50 text-white p-2 rounded"))&&i(n,"class",b),(!k||1&a)&&B(e,"top",t[0].offsetTop+"px"),(!k||1&a)&&B(e,"left",t[0].offsetLeft+"px")},i(t){k||(x(r.$$.fragment,t),x(y.$$.fragment,t),C((()=>{_||(_=V(e,ht,{duration:50},!0)),_.run(1)})),k=!0)},o(t){v(r.$$.fragment,t),v(y.$$.fragment,t),_||(_=V(e,ht,{duration:50},!1)),_.run(0),k=!1},d(t){t&&s(e),w(r),w(y),t&&_&&_.end()}}}function ke(t,e,n){let{node:r}=e;return t.$$set=t=>{"node"in t&&n(0,r=t.node)},[r,t=>new Date(t).toLocaleDateString("th-TH",{weekday:"short",year:"numeric",month:"short",day:"numeric"})]}class Ee extends e{constructor(t){super(),n(this,t,ke,_e,r,{node:0})}}function Me(t){let e,n;return e=new Ee({props:{node:t[1]}}),{c(){d(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,r){m(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.node=t[1]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Fe(t){let e,n,r,u,d=t[1]&&Me(t);return{c(){e=f("div"),n=a("svg"),r=h(),d&&d.c(),this.h()},l(t){e=o(t,"DIV",{class:!0});var a=l(e);n=o(a,"svg",{class:!0},1),l(n).forEach(s),r=$(a),d&&d.l(a),a.forEach(s),this.h()},h(){i(n,"class","w-full h-full"),i(e,"class","relative flex-1")},m(a,o){c(a,e,o),g(e,n),t[5](n),g(e,r),d&&d.m(e,null),u=!0},p(t,[n]){t[1]?d?(d.p(t,n),2&n&&x(d,1)):(d=Me(t),d.c(),x(d,1),d.m(e,null)):d&&(M(),v(d,1,1,(()=>{d=null})),F())},i(t){u||(x(d),u=!0)},o(t){v(d),u=!1},d(n){n&&s(e),t[5](null),d&&d.d()}}}function Ce(t,e,n){let r,a,o,{movementData:l}=e,{filter:s}=e;const i=j(),c=t=>l.find((({event_no:e})=>e===t)),u=({x:t,y:e,id:o})=>{const l=Math.round(t+r.clientWidth/2),s=Math.round(e+r.clientHeight/2);n(1,a={data:c(o),offsetLeft:l,offsetTop:s,tooltipRight:l<r.clientWidth/2})},f=()=>{n(1,a=null)},h=({id:t})=>{i("movement-click",c(t))},d=()=>i("transition-complete"),$=(t=>{const e={},n=[],r=[],a=[];return t.sort(((t,e)=>t.date.getMilliseconds()-e.date.getMilliseconds())).forEach((({date:t,event_no:o,player:l,time_show:s,x_desktop:i,x_mobile:c,y_desktop:u,y_mobile:f,pre_event:h,reaction_type:d,key_topic:$})=>{const p=o;let g={id:p,date:t,type:l,key_topic:$,time_show:s,x_desktop:i,x_mobile:c,y_desktop:u,y_mobile:f};if(n.push(g),e[p]=1,""!=h){let t=h.split(",");for(let n of t)n=n.trim(),r.push({source:n,target:p,type:d}),e[n]++}a.push({date:t,type:l,shown:1===s||2===s})})),{node_sizes:e,nodes:n,links:r,stems:a}})(l);return O((()=>{n(4,o=me($,r,u,f,h,d))})),t.$$set=t=>{"movementData"in t&&n(2,l=t.movementData),"filter"in t&&n(3,s=t.filter)},t.$$.update=()=>{24&t.$$.dirty&&o&&o(s)},[r,a,l,s,o,function(t){S[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Ve extends e{constructor(t){super(),n(this,t,Ce,Fe,r,{movementData:2,filter:3})}}const De=[{key:1,label:"เยาวชน",mainColor:"#FFFFFF"},{key:2,label:"ประชาชน",mainColor:"#C1B1F0"},{key:3,label:"พรรคการเมือง",mainColor:"#FF7A00"},{key:4,label:"ภาครัฐและอื่นๆ",mainColor:"#1A171B",accentColor:"#FFFFFF"}],Ne=[{key:1,label:"ความยุติธรรม"},{key:2,label:"ขับไล่รัฐบาล"},{key:3,label:"แก้รัฐธรรมนูญ"},{key:4,label:"ปฏิรูปสถาบัน"},{key:5,label:"ปกป้องสถาบัน"},{key:6,label:"อื่นๆ"}];function Ie(t){let e,n,r,u,h,d;return{c(){e=f("button"),n=a("svg"),r=a("line"),u=a("line"),this.h()},l(t){e=o(t,"BUTTON",{class:!0});var a=l(e);n=o(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,xmlns:!0},1);var i=l(n);r=o(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),l(r).forEach(s),u=o(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),l(u).forEach(s),i.forEach(s),a.forEach(s),this.h()},h(){i(r,"x1","0.707107"),i(r,"y1","1.29289"),i(r,"x2","14.7071"),i(r,"y2","15.2929"),i(u,"x1","14.7071"),i(u,"y1","1.70711"),i(u,"x2","0.707107"),i(u,"y2","15.7071"),i(n,"width","16"),i(n,"height","17"),i(n,"viewBox","0 0 16 17"),i(n,"fill","none"),i(n,"stroke","currentColor"),i(n,"stroke-width","2"),i(n,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","absolute top-3 right-3 text-gray hover:text-black")},m(a,o){c(a,e,o),g(e,n),g(n,r),g(n,u),h||(d=y(e,"click",t[0]),h=!0)},p:q,i:q,o:q,d(t){t&&s(e),h=!1,d()}}}function Te(t){return[function(e){E(t,e)}]}class Ae extends e{constructor(t){super(),n(this,t,Te,Ie,r,{})}}function Le(t){let e,n=t[0].event_name+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[0].event_name+"")&&k(e,n)},d(t){t&&s(e)}}}function Se(t){let e,n=t[1](t[0].date)+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[1](t[0].date)+"")&&k(e,n)},d(t){t&&s(e)}}}function ze(t){let e,n=t[0].location+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[0].location+"")&&k(e,n)},d(t){t&&s(e)}}}function Be(t){let e;return{c(){e=b("ข้อเรียกร้อง")},l(t){e=_(t,"ข้อเรียกร้อง")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function He(t){let e,n=t[0].proposal+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[0].proposal+"")&&k(e,n)},d(t){t&&s(e)}}}function Re(t){let e;return{c(){e=b("วัตถุประสงค์การชุมนุม")},l(t){e=_(t,"วัตถุประสงค์การชุมนุม")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function je(t){let e,n=t[0].cause+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p(t,r){1&r&&n!==(n=t[0].cause+"")&&k(e,n)},d(t){t&&s(e)}}}function Oe(t){let e,n,r,y,b,_,k,E,M,F,D,N,T,A,L,S,z,B,H,R,j,O,q,P,U,Z,X,G,Y,W,K,J,Q,tt,et,nt,rt,at,ot,lt,st,it,ct,ut,ft,ht,$t,pt;return r=new Ae({}),r.$on("click",t[2]),_=new u({props:{as:"h2",bold:!0,$$slots:{default:[Le]},$$scope:{ctx:t}}}),U=new u({props:{as:"subtitle3",$$slots:{default:[Se]},$$scope:{ctx:t}}}),Q=new u({props:{as:"subtitle3",$$slots:{default:[ze]},$$scope:{ctx:t}}}),rt=new u({props:{as:"h3",bold:!0,$$slots:{default:[Be]},$$scope:{ctx:t}}}),ot=new u({props:{as:"pre",$$slots:{default:[He]},$$scope:{ctx:t}}}),it=new u({props:{as:"h3",bold:!0,$$slots:{default:[Re]},$$scope:{ctx:t}}}),ut=new u({props:{as:"pre",$$slots:{default:[je]},$$scope:{ctx:t}}}),{c(){e=f("div"),n=f("div"),d(r.$$.fragment),y=h(),b=f("div"),d(_.$$.fragment),k=h(),E=f("div"),M=f("div"),F=a("svg"),D=a("g"),N=a("path"),T=a("path"),A=a("path"),L=a("path"),S=a("path"),z=a("path"),B=a("path"),H=a("path"),R=a("path"),j=a("defs"),O=a("clipPath"),q=a("rect"),P=h(),d(U.$$.fragment),Z=h(),X=f("div"),G=a("svg"),Y=a("path"),W=a("path"),K=a("path"),J=h(),d(Q.$$.fragment),tt=h(),et=f("div"),nt=f("div"),d(rt.$$.fragment),at=h(),d(ot.$$.fragment),lt=h(),st=f("div"),d(it.$$.fragment),ct=h(),d(ut.$$.fragment),this.h()},l(t){e=o(t,"DIV",{class:!0});var a=l(e);n=o(a,"DIV",{class:!0});var i=l(n);p(r.$$.fragment,i),y=$(i),b=o(i,"DIV",{class:!0});var c=l(b);p(_.$$.fragment,c),k=$(c),E=o(c,"DIV",{class:!0});var u=l(E);M=o(u,"DIV",{class:!0});var f=l(M);F=o(f,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0},1);var h=l(F);D=o(h,"g",{"clip-path":!0},1);var d=l(D);N=o(d,"path",{d:!0,fill:!0},1),l(N).forEach(s),T=o(d,"path",{d:!0,fill:!0},1),l(T).forEach(s),A=o(d,"path",{d:!0,fill:!0},1),l(A).forEach(s),L=o(d,"path",{d:!0,fill:!0},1),l(L).forEach(s),S=o(d,"path",{d:!0,fill:!0},1),l(S).forEach(s),z=o(d,"path",{d:!0,fill:!0},1),l(z).forEach(s),B=o(d,"path",{d:!0,fill:!0},1),l(B).forEach(s),H=o(d,"path",{d:!0,fill:!0},1),l(H).forEach(s),R=o(d,"path",{d:!0,fill:!0},1),l(R).forEach(s),d.forEach(s),j=o(h,"defs",{},1);var g=l(j);O=o(g,"clipPath",{id:!0},1);var m=l(O);q=o(m,"rect",{width:!0,height:!0,fill:!0},1),l(q).forEach(s),m.forEach(s),g.forEach(s),h.forEach(s),P=$(f),p(U.$$.fragment,f),f.forEach(s),Z=$(u),X=o(u,"DIV",{class:!0});var x=l(X);G=o(x,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0},1);var v=l(G);Y=o(v,"path",{d:!0,fill:!0},1),l(Y).forEach(s),W=o(v,"path",{d:!0,fill:!0},1),l(W).forEach(s),K=o(v,"path",{d:!0,fill:!0},1),l(K).forEach(s),v.forEach(s),J=$(x),p(Q.$$.fragment,x),x.forEach(s),u.forEach(s),c.forEach(s),tt=$(i),et=o(i,"DIV",{class:!0});var w=l(et);nt=o(w,"DIV",{class:!0});var C=l(nt);p(rt.$$.fragment,C),at=$(C),p(ot.$$.fragment,C),C.forEach(s),lt=$(w),st=o(w,"DIV",{class:!0});var V=l(st);p(it.$$.fragment,V),ct=$(V),p(ut.$$.fragment,V),V.forEach(s),w.forEach(s),i.forEach(s),a.forEach(s),this.h()},h(){i(N,"d","M5 0.625H0V5.625H5V0.625Z"),i(N,"fill","#88FFCC"),i(T,"d","M11.8933 0.625H6.89331V5.625H11.8933V0.625Z"),i(T,"fill","#88FFCC"),i(A,"d","M18.7869 0.625H13.7869V5.625H18.7869V0.625Z"),i(A,"fill","#88FFCC"),i(L,"d","M5 7.51831H0V12.5183H5V7.51831Z"),i(L,"fill","#88FFCC"),i(S,"d","M11.8933 7.51831H6.89331V12.5183H11.8933V7.51831Z"),i(S,"fill","#88FFCC"),i(z,"d","M18.7869 7.51831H13.7869V12.5183H18.7869V7.51831Z"),i(z,"fill","#88FFCC"),i(B,"d","M5 14.4119H0V19.4119H5V14.4119Z"),i(B,"fill","#88FFCC"),i(H,"d","M11.8933 14.4119H6.89331V19.4119H11.8933V14.4119Z"),i(H,"fill","#88FFCC"),i(R,"d","M18.7869 14.4119H13.7869V19.4119H18.7869V14.4119Z"),i(R,"fill","#88FFCC"),i(D,"clip-path","url(#clip0)"),i(q,"width","18.8889"),i(q,"height","20"),i(q,"fill","white"),i(O,"id","clip0"),i(F,"width","19"),i(F,"height","20"),i(F,"viewBox","0 0 19 20"),i(F,"fill","none"),i(F,"xmlns","http://www.w3.org/2000/svg"),i(M,"class","flex flex-row space-x-2"),i(Y,"d","M8.13892 14.5C12.143 14.5 15.3889 11.2541 15.3889 7.25C15.3889 3.24594 12.143 0 8.13892 0C4.13485 0 0.888916 3.24594 0.888916 7.25C0.888916 11.2541 4.13485 14.5 8.13892 14.5Z"),i(Y,"fill","#88FFCC"),i(W,"d","M8.13892 9.375C9.31252 9.375 10.2639 8.42361 10.2639 7.25C10.2639 6.0764 9.31252 5.125 8.13892 5.125C6.96531 5.125 6.01392 6.0764 6.01392 7.25C6.01392 8.42361 6.96531 9.375 8.13892 9.375Z"),i(W,"fill","white"),i(K,"d","M14.3889 11L9.26392 19.375C8.76392 20.25 7.51392 20.25 7.01392 19.375L1.88892 11H14.3889Z"),i(K,"fill","#88FFCC"),i(G,"width","16"),i(G,"height","20"),i(G,"viewBox","0 0 16 20"),i(G,"fill","none"),i(G,"xmlns","http://www.w3.org/2000/svg"),i(X,"class","flex flex-row space-x-2"),i(E,"class","flex flex-row space-x-6"),i(b,"class","space-y-2 pb-6 mb-6 border-b border-gray"),i(nt,"class","space-y-2"),i(st,"class","space-y-2"),i(et,"class","space-y-6 overflow-y-auto"),i(n,"class","relative flex flex-col m-auto w-full max-w-2xl h-full bg-white rounded-xl p-8 shadow-lg"),i(e,"class","absolute inset-0 my-32 z-20")},m(a,o){c(a,e,o),g(e,n),m(r,n,null),g(n,y),g(n,b),m(_,b,null),g(b,k),g(b,E),g(E,M),g(M,F),g(F,D),g(D,N),g(D,T),g(D,A),g(D,L),g(D,S),g(D,z),g(D,B),g(D,H),g(D,R),g(F,j),g(j,O),g(O,q),g(M,P),m(U,M,null),g(E,Z),g(E,X),g(X,G),g(G,Y),g(G,W),g(G,K),g(X,J),m(Q,X,null),g(n,tt),g(n,et),g(et,nt),m(rt,nt,null),g(nt,at),m(ot,nt,null),g(et,lt),g(et,st),m(it,st,null),g(st,ct),m(ut,st,null),ht=!0,$t||(pt=I(gt.clickOutside.call(null,n,t[2])),$t=!0)},p(t,[e]){const n={};17&e&&(n.$$scope={dirty:e,ctx:t}),_.$set(n);const r={};17&e&&(r.$$scope={dirty:e,ctx:t}),U.$set(r);const a={};17&e&&(a.$$scope={dirty:e,ctx:t}),Q.$set(a);const o={};16&e&&(o.$$scope={dirty:e,ctx:t}),rt.$set(o);const l={};17&e&&(l.$$scope={dirty:e,ctx:t}),ot.$set(l);const s={};16&e&&(s.$$scope={dirty:e,ctx:t}),it.$set(s);const i={};17&e&&(i.$$scope={dirty:e,ctx:t}),ut.$set(i)},i(t){ht||(x(r.$$.fragment,t),x(_.$$.fragment,t),x(U.$$.fragment,t),x(Q.$$.fragment,t),x(rt.$$.fragment,t),x(ot.$$.fragment,t),x(it.$$.fragment,t),x(ut.$$.fragment,t),C((()=>{ft||(ft=V(e,dt,{duration:200},!0)),ft.run(1)})),ht=!0)},o(t){v(r.$$.fragment,t),v(_.$$.fragment,t),v(U.$$.fragment,t),v(Q.$$.fragment,t),v(rt.$$.fragment,t),v(ot.$$.fragment,t),v(it.$$.fragment,t),v(ut.$$.fragment,t),ft||(ft=V(e,dt,{duration:200},!1)),ft.run(0),ht=!1},d(t){t&&s(e),w(r),w(_),w(U),w(Q),w(rt),w(ot),w(it),w(ut),t&&ft&&ft.end(),$t=!1,pt()}}}function qe(t,e,n){let{movement:r}=e;const a=j();return t.$$set=t=>{"movement"in t&&n(0,r=t.movement)},[r,t=>new Date(t).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}),()=>a("close")]}class Pe extends e{constructor(t){super(),n(this,t,qe,Oe,r,{movement:0})}}function Ue(t,e,n){const r=t.slice();return r[3]=e[n].image,r[4]=e[n].label,r}function Ze(t){let e;return{c(){e=b("CIVIL MOVEMENT 2020")},l(t){e=_(t,"CIVIL MOVEMENT 2020")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function Xe(t){let e;return{c(){e=b("ปีแห่งพลังของประชาชน")},l(t){e=_(t,"ปีแห่งพลังของประชาชน")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function Ge(t){let e;return{c(){e=b("ตั้งแต่ช่วงต้นปี 2020 (พ.ศ. 2563) เป็นต้นมา\n        ประเทศไทยได้มีเหตุการณ์และความเคลื่อนไหวสำคัญทางการเมืองเกิดขึ้นมากมาย\n        มีผู้เล่นหลายฝ่ายที่เกี่ยวข้องกับเรื่องนี้\n        และเหตุการณ์หนึ่งส่งผลให้เกิดอีกเหตุการณ์อย่างปฏิเสธไม่ได้")},l(t){e=_(t,"ตั้งแต่ช่วงต้นปี 2020 (พ.ศ. 2563) เป็นต้นมา\n        ประเทศไทยได้มีเหตุการณ์และความเคลื่อนไหวสำคัญทางการเมืองเกิดขึ้นมากมาย\n        มีผู้เล่นหลายฝ่ายที่เกี่ยวข้องกับเรื่องนี้\n        และเหตุการณ์หนึ่งส่งผลให้เกิดอีกเหตุการณ์อย่างปฏิเสธไม่ได้")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function Ye(t){let e;return{c(){e=b("ELECT\n        ได้ทำการรวบรวมข้อมูลและนำมาวิเคราะห์ถึงความสัมพันธ์ของแต่ละเหตุการณ์\n        เพื่อสะท้อนให้เห็นถึงความเชื่อมโยงอย่างเป็นระบบของเหตุการณ์เหล่านั้น")},l(t){e=_(t,"ELECT\n        ได้ทำการรวบรวมข้อมูลและนำมาวิเคราะห์ถึงความสัมพันธ์ของแต่ละเหตุการณ์\n        เพื่อสะท้อนให้เห็นถึงความเชื่อมโยงอย่างเป็นระบบของเหตุการณ์เหล่านั้น")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function We(t){let e;return{c(){e=b("วงกลม 1 วง = 1 เหตุการณ์")},l(t){e=_(t,"วงกลม 1 วง = 1 เหตุการณ์")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function Ke(t){let e;return{c(){e=b("สี = ผู้ดำเนินการ")},l(t){e=_(t,"สี = ผู้ดำเนินการ")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function Je(t){let e,n=t[4]+"";return{c(){e=b(n)},l(t){e=_(t,n)},m(t,n){c(t,e,n)},p:q,d(t){t&&s(e)}}}function Qe(t){let e,n,r,a,y,b;return y=new u({props:{as:"subtitle5",class:"m-2",$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){e=f("div"),n=f("img"),a=h(),d(y.$$.fragment),this.h()},l(t){e=o(t,"DIV",{});var r=l(e);n=o(r,"IMG",{src:!0,alt:!0,class:!0}),a=$(r),p(y.$$.fragment,r),r.forEach(s),this.h()},h(){n.src!==(r=t[3])&&i(n,"src",r),i(n,"alt",t[4]),i(n,"class","mx-auto my-2")},m(t,r){c(t,e,r),g(e,n),g(e,a),m(y,e,null),b=!0},p(t,e){const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),y.$set(n)},i(t){b||(x(y.$$.fragment,t),b=!0)},o(t){v(y.$$.fragment,t),b=!1},d(t){t&&s(e),w(y)}}}function tn(t){let e;return{c(){e=b("เส้น = ความสัมพันธ์กับเหตุการณ์ก่อนหน้า")},l(t){e=_(t,"เส้น = ความสัมพันธ์กับเหตุการณ์ก่อนหน้า")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function en(t){let e;return{c(){e=b("สามารถเลือกดูเหตุการณ์ได้ตามผู้ดำเนินการ ข้อเรียกร้อง และช่วงเวลา")},l(t){e=_(t,"สามารถเลือกดูเหตุการณ์ได้ตามผู้ดำเนินการ ข้อเรียกร้อง และช่วงเวลา")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function nn(t){let e,n,r,a,y,b,_,k,E,N,I,T,A,L,S,z,B,H,R,j,O,q,P,U,Z,X,G,Y,W,K,J,Q,tt,et,nt,rt,at,ot,lt,st;b=new Ae({}),b.$on("click",t[2]),N=new u({props:{as:"h1",bold:!0,$$slots:{default:[Ze]},$$scope:{ctx:t}}}),T=new u({props:{as:"h2",$$slots:{default:[Xe]},$$scope:{ctx:t}}}),L=new u({props:{as:"body1",$$slots:{default:[Ge]},$$scope:{ctx:t}}}),z=new u({props:{as:"body1",$$slots:{default:[Ye]},$$scope:{ctx:t}}}),O=new u({props:{as:"body2",bold:!0,$$slots:{default:[We]},$$scope:{ctx:t}}}),P=new u({props:{as:"body2",bold:!0,$$slots:{default:[Ke]},$$scope:{ctx:t}}});let it=t[0],ct=[];for(let e=0;e<it.length;e+=1)ct[e]=Qe(Ue(t,it,e));const ut=t=>v(ct[t],1,1,(()=>{ct[t]=null}));return W=new u({props:{as:"body2",bold:!0,$$slots:{default:[tn]},$$scope:{ctx:t}}}),nt=new u({props:{as:"body2",bold:!0,class:"my-auto",$$slots:{default:[en]},$$scope:{ctx:t}}}),{c(){e=f("div"),n=f("div"),r=h(),a=f("div"),y=f("div"),d(b.$$.fragment),_=h(),k=f("div"),E=f("div"),d(N.$$.fragment),I=h(),d(T.$$.fragment),A=h(),d(L.$$.fragment),S=h(),d(z.$$.fragment),B=h(),H=f("div"),R=f("div"),j=f("div"),d(O.$$.fragment),q=h(),d(P.$$.fragment),U=h();for(let t=0;t<ct.length;t+=1)ct[t].c();Z=h(),X=f("div"),G=h(),Y=f("div"),d(W.$$.fragment),K=h(),J=f("img"),tt=h(),et=f("div"),d(nt.$$.fragment),rt=h(),at=f("img"),this.h()},l(t){e=o(t,"DIV",{class:!0});var i=l(e);n=o(i,"DIV",{class:!0}),l(n).forEach(s),r=$(i),a=o(i,"DIV",{class:!0});var c=l(a);y=o(c,"DIV",{class:!0});var u=l(y);p(b.$$.fragment,u),u.forEach(s),_=$(c),k=o(c,"DIV",{class:!0});var f=l(k);E=o(f,"DIV",{});var h=l(E);p(N.$$.fragment,h),I=$(h),p(T.$$.fragment,h),h.forEach(s),A=$(f),p(L.$$.fragment,f),S=$(f),p(z.$$.fragment,f),B=$(f),H=o(f,"DIV",{class:!0});var d=l(H);R=o(d,"DIV",{class:!0});var g=l(R);j=o(g,"DIV",{class:!0});var m=l(j);p(O.$$.fragment,m),q=$(m),p(P.$$.fragment,m),m.forEach(s),U=$(g);for(let t=0;t<ct.length;t+=1)ct[t].l(g);Z=$(g),X=o(g,"DIV",{}),l(X).forEach(s),g.forEach(s),G=$(d),Y=o(d,"DIV",{class:!0});var x=l(Y);p(W.$$.fragment,x),K=$(x),J=o(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(s),d.forEach(s),tt=$(f),et=o(f,"DIV",{class:!0});var v=l(et);p(nt.$$.fragment,v),rt=$(v),at=o(v,"IMG",{src:!0,alt:!0}),v.forEach(s),f.forEach(s),c.forEach(s),i.forEach(s),this.h()},h(){i(n,"class","w-full h-full bg-gradient-to-b from-white to-mint opacity-95"),i(y,"class","absolute top-2 right-2"),i(j,"class","col-span-2"),i(R,"class","flex-1 grid grid-cols-2"),J.src!==(Q="images/instruction-relationship.png")&&i(J,"src","images/instruction-relationship.png"),i(J,"alt","ความสัมพันธ์"),i(J,"class","mx-auto"),i(Y,"class","flex-1 space-y-4"),i(H,"class","flex flex-col md:flex-row space-y-8 md:space-y-0 md:space-x-4"),at.src!==(ot="images/instruction-timeline.png")&&i(at,"src","images/instruction-timeline.png"),i(at,"alt","Timeline"),i(et,"class","flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 mx-auto"),i(k,"class","flex flex-col text-center py-8 px-4 md:px-8 space-y-8 md:space-y-12 w-full max-w-4xl m-auto"),i(a,"class","absolute inset-0 flex overflow-y-auto"),i(e,"class","absolute inset-0 z-10")},m(t,o){c(t,e,o),g(e,n),g(e,r),g(e,a),g(a,y),m(b,y,null),g(a,_),g(a,k),g(k,E),m(N,E,null),g(E,I),m(T,E,null),g(k,A),m(L,k,null),g(k,S),m(z,k,null),g(k,B),g(k,H),g(H,R),g(R,j),m(O,j,null),g(j,q),m(P,j,null),g(R,U);for(let t=0;t<ct.length;t+=1)ct[t].m(R,null);g(R,Z),g(R,X),g(H,G),g(H,Y),m(W,Y,null),g(Y,K),g(Y,J),g(k,tt),g(k,et),m(nt,et,null),g(et,rt),g(et,at),st=!0},p(t,[e]){const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),N.$set(n);const r={};128&e&&(r.$$scope={dirty:e,ctx:t}),T.$set(r);const a={};128&e&&(a.$$scope={dirty:e,ctx:t}),L.$set(a);const o={};128&e&&(o.$$scope={dirty:e,ctx:t}),z.$set(o);const l={};128&e&&(l.$$scope={dirty:e,ctx:t}),O.$set(l);const s={};if(128&e&&(s.$$scope={dirty:e,ctx:t}),P.$set(s),1&e){let n;for(it=t[0],n=0;n<it.length;n+=1){const r=Ue(t,it,n);ct[n]?(ct[n].p(r,e),x(ct[n],1)):(ct[n]=Qe(r),ct[n].c(),x(ct[n],1),ct[n].m(R,Z))}for(M(),n=it.length;n<ct.length;n+=1)ut(n);F()}const i={};128&e&&(i.$$scope={dirty:e,ctx:t}),W.$set(i);const c={};128&e&&(c.$$scope={dirty:e,ctx:t}),nt.$set(c)},i(t){if(!st){x(b.$$.fragment,t),x(N.$$.fragment,t),x(T.$$.fragment,t),x(L.$$.fragment,t),x(z.$$.fragment,t),x(O.$$.fragment,t),x(P.$$.fragment,t);for(let t=0;t<it.length;t+=1)x(ct[t]);x(W.$$.fragment,t),x(nt.$$.fragment,t),C((()=>{lt||(lt=V(e,ht,{},!0)),lt.run(1)})),st=!0}},o(t){v(b.$$.fragment,t),v(N.$$.fragment,t),v(T.$$.fragment,t),v(L.$$.fragment,t),v(z.$$.fragment,t),v(O.$$.fragment,t),v(P.$$.fragment,t),ct=ct.filter(Boolean);for(let t=0;t<ct.length;t+=1)v(ct[t]);v(W.$$.fragment,t),v(nt.$$.fragment,t),lt||(lt=V(e,ht,{},!1)),lt.run(0),st=!1},d(t){t&&s(e),w(b),w(N),w(T),w(L),w(z),w(O),w(P),D(ct,t),w(W),w(nt),t&&lt&&lt.end()}}}function rn(t){const e=j();return[[{label:"เยาวชน (15-24 ปี)",image:"images/player-01.png"},{label:"ประชาชน",image:"images/player-02.png"},{label:"พรรคการเมือง",image:"images/player-03.png"},{label:"รัฐบาล",image:"images/player-04.png"}],e,()=>e("close")]}class an extends e{constructor(t){super(),n(this,t,rn,nn,r,{})}}function on(t){let e;return{c(){e=b("อธิบายสัญลักษณ์")},l(t){e=_(t,"อธิบายสัญลักษณ์")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function ln(t){let e,n,r,a,h,$;return n=new u({props:{as:"subtitle5",$$slots:{default:[on]},$$scope:{ctx:t}}}),{c(){e=f("button"),d(n.$$.fragment),this.h()},l(t){e=o(t,"BUTTON",{class:!0});var r=l(e);p(n.$$.fragment,r),r.forEach(s),this.h()},h(){i(e,"class",r="bg-mint rounded md:py-2 px-2 md:px-4 hover:bg-opacity-50 "+(t[0].class||""))},m(r,o){c(r,e,o),m(n,e,null),a=!0,h||($=y(e,"click",t[1]),h=!0)},p(t,[o]){const l={};4&o&&(l.$$scope={dirty:o,ctx:t}),n.$set(l),(!a||1&o&&r!==(r="bg-mint rounded md:py-2 px-2 md:px-4 hover:bg-opacity-50 "+(t[0].class||"")))&&i(e,"class",r)},i(t){a||(x(n.$$.fragment,t),a=!0)},o(t){v(n.$$.fragment,t),a=!1},d(t){t&&s(e),w(n),h=!1,$()}}}function sn(t,e,n){return t.$$set=t=>{n(0,e=P(P({},e),U(t)))},[e=U(e),function(e){E(t,e)}]}class cn extends e{constructor(t){super(),n(this,t,sn,ln,r,{})}}function un(t){let e,n,r=st.length+"";return{c(){e=b(r),n=b(" เหตุการณ์")},l(t){e=_(t,r),n=_(t," เหตุการณ์")},m(t,r){c(t,e,r),c(t,n,r)},p:q,d(t){t&&s(e),t&&s(n)}}}function fn(t){let e;return{c(){e=b("โดย")},l(t){e=_(t,"โดย")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function hn(t){let e;return{c(){e=b("เกี่ยวกับ")},l(t){e=_(t,"เกี่ยวกับ")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function dn(t){let e;return{c(){e=b("* ผลงานชิ้นนี้เหมาะกับการดูบนหน้าจอคอมพิวเตอร์")},l(t){e=_(t,"* ผลงานชิ้นนี้เหมาะกับการดูบนหน้าจอคอมพิวเตอร์")},m(t,n){c(t,e,n)},d(t){t&&s(e)}}}function $n(t){let e,n;return e=new Pe({props:{movement:t[1]}}),e.$on("close",t[11]),{c(){d(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,r){m(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.movement=t[1]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function pn(t){let e,n;return e=new an({}),e.$on("close",t[4]),{c(){d(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,r){m(e,t,r),n=!0},p:q,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function gn(t){let e,n,r,a,y,b,_,k,E,C,V,D,N,I,T,A,L,B,H,j,O,q,P,U,X,G,Y,W,K,J,Q,tt,et,nt,rt;function at(e){t[6].call(null,e)}a=new ut({props:{light:!0,vertical:!0}}),E=new u({props:{as:"h1",bold:!0,class:"flex-1 md:text-center",$$slots:{default:[un]},$$scope:{ctx:t}}}),V=new cn({props:{class:"md:hidden"}}),V.$on("click",t[5]),I=new u({props:{as:"subtitle5",bold:!0,class:"my-auto",$$slots:{default:[fn]},$$scope:{ctx:t}}});let ot={filter:De,selectedAllLabel:"ทุกผู้ดำเนินการ",selectedNoneLabel:"เลือกอย่างน้อยหนึ่งข้อ"};function lt(e){t[7].call(null,e)}void 0!==t[0].organizers&&(ot.activeFilter=t[0].organizers),A=new It({props:ot}),S.push((()=>z(A,"activeFilter",at))),H=new u({props:{as:"subtitle5",bold:!0,class:"my-auto",$$slots:{default:[hn]},$$scope:{ctx:t}}});let it={filter:Ne,selectedAllLabel:"ทุกข้อเรียกร้อง",selectedNoneLabel:"เลือกอย่างน้อยหนึ่งข้อ"};void 0!==t[0].keyTopics&&(it.activeFilter=t[0].keyTopics),O=new It({props:it}),S.push((()=>z(O,"activeFilter",lt))),U=new cn({props:{class:"hidden md:block"}}),U.$on("click",t[8]),Y=new u({props:{as:"subtitle5",$$slots:{default:[dn]},$$scope:{ctx:t}}}),K=new Ve({props:{movementData:st,filter:t[0]}}),K.$on("movement-click",t[9]),K.$on("transition-complete",t[10]);let ct=t[1]&&$n(t),ft=t[2]&&pn(t);function ht(e){t[12].call(null,e)}let dt={};return void 0!==t[0].dateRange&&(dt.dateRange=t[0].dateRange),et=new ve({props:dt}),S.push((()=>z(et,"dateRange",ht))),{c(){e=h(),n=f("section"),r=f("div"),d(a.$$.fragment),y=h(),b=f("div"),_=f("div"),k=f("div"),d(E.$$.fragment),C=h(),d(V.$$.fragment),D=h(),N=f("div"),d(I.$$.fragment),T=h(),d(A.$$.fragment),B=h(),d(H.$$.fragment),j=h(),d(O.$$.fragment),P=h(),d(U.$$.fragment),X=h(),G=f("div"),d(Y.$$.fragment),W=h(),d(K.$$.fragment),J=h(),ct&&ct.c(),Q=h(),ft&&ft.c(),tt=h(),d(et.$$.fragment),this.h()},l(t){Z('[data-svelte="svelte-1emgfx5"]',document.head).forEach(s),e=$(t),n=o(t,"SECTION",{class:!0});var i=l(n);r=o(i,"DIV",{class:!0});var c=l(r);p(a.$$.fragment,c),c.forEach(s),y=$(i),b=o(i,"DIV",{class:!0});var u=l(b);_=o(u,"DIV",{class:!0});var f=l(_);k=o(f,"DIV",{class:!0});var h=l(k);p(E.$$.fragment,h),C=$(h),p(V.$$.fragment,h),h.forEach(s),D=$(f),N=o(f,"DIV",{class:!0});var d=l(N);p(I.$$.fragment,d),T=$(d),p(A.$$.fragment,d),B=$(d),p(H.$$.fragment,d),j=$(d),p(O.$$.fragment,d),P=$(d),p(U.$$.fragment,d),d.forEach(s),X=$(f),G=o(f,"DIV",{class:!0});var g=l(G);p(Y.$$.fragment,g),g.forEach(s),f.forEach(s),W=$(u),p(K.$$.fragment,u),J=$(u),ct&&ct.l(u),Q=$(u),ft&&ft.l(u),u.forEach(s),tt=$(i),p(et.$$.fragment,i),i.forEach(s),this.h()},h(){document.title="Civil Movement",i(r,"class","hidden md:flex absolute top-2 right-2"),i(k,"class","flex flex-row"),i(N,"class","flex space-x-2 md:space-x-4"),i(G,"class","md:hidden"),i(_,"class","mx-auto mt-4 md:mt-8 z-10 px-2 md:px-0 space-y-2"),i(b,"class","flex h-full flex-col bg-gradient-to-b from-mint-light to-mint"),i(n,"class","relative flex flex-col svelte-16j8l28")},m(t,o){c(t,e,o),c(t,n,o),g(n,r),m(a,r,null),g(n,y),g(n,b),g(b,_),g(_,k),m(E,k,null),g(k,C),m(V,k,null),g(_,D),g(_,N),m(I,N,null),g(N,T),m(A,N,null),g(N,B),m(H,N,null),g(N,j),m(O,N,null),g(N,P),m(U,N,null),g(_,X),g(_,G),m(Y,G,null),g(b,W),m(K,b,null),g(b,J),ct&&ct.m(b,null),g(b,Q),ft&&ft.m(b,null),g(n,tt),m(et,n,null),rt=!0},p(t,[e]){const n={};8192&e&&(n.$$scope={dirty:e,ctx:t}),E.$set(n);const r={};8192&e&&(r.$$scope={dirty:e,ctx:t}),I.$set(r);const a={};!L&&1&e&&(L=!0,a.activeFilter=t[0].organizers,R((()=>L=!1))),A.$set(a);const o={};8192&e&&(o.$$scope={dirty:e,ctx:t}),H.$set(o);const l={};!q&&1&e&&(q=!0,l.activeFilter=t[0].keyTopics,R((()=>q=!1))),O.$set(l);const s={};8192&e&&(s.$$scope={dirty:e,ctx:t}),Y.$set(s);const i={};1&e&&(i.filter=t[0]),K.$set(i),t[1]?ct?(ct.p(t,e),2&e&&x(ct,1)):(ct=$n(t),ct.c(),x(ct,1),ct.m(b,Q)):ct&&(M(),v(ct,1,1,(()=>{ct=null})),F()),t[2]?ft?(ft.p(t,e),4&e&&x(ft,1)):(ft=pn(t),ft.c(),x(ft,1),ft.m(b,null)):ft&&(M(),v(ft,1,1,(()=>{ft=null})),F());const c={};!nt&&1&e&&(nt=!0,c.dateRange=t[0].dateRange,R((()=>nt=!1))),et.$set(c)},i(t){rt||(x(a.$$.fragment,t),x(E.$$.fragment,t),x(V.$$.fragment,t),x(I.$$.fragment,t),x(A.$$.fragment,t),x(H.$$.fragment,t),x(O.$$.fragment,t),x(U.$$.fragment,t),x(Y.$$.fragment,t),x(K.$$.fragment,t),x(ct),x(ft),x(et.$$.fragment,t),rt=!0)},o(t){v(a.$$.fragment,t),v(E.$$.fragment,t),v(V.$$.fragment,t),v(I.$$.fragment,t),v(A.$$.fragment,t),v(H.$$.fragment,t),v(O.$$.fragment,t),v(U.$$.fragment,t),v(Y.$$.fragment,t),v(K.$$.fragment,t),v(ct),v(ft),v(et.$$.fragment,t),rt=!1},d(t){t&&s(e),t&&s(n),w(a),w(E),w(V),w(I),w(A),w(H),w(O),w(U),w(Y),w(K),ct&&ct.d(),ft&&ft.d(),w(et)}}}function mn(t,e,n){const r={organizers:De.map((({key:t})=>t)),keyTopics:Ne.map((({key:t})=>t)),dateRange:[new Date,new Date]};let a,o=null,l=!1;O((()=>{n(3,a=!!sessionStorage.getItem("IS_INSTRUCTION_SEEN"))}));return[r,o,l,a,()=>{n(2,l=!1),n(3,a=!0),sessionStorage.setItem("IS_INSTRUCTION_SEEN","true")},()=>n(2,l=!0),function(t){r.organizers=t,n(0,r)},function(t){r.keyTopics=t,n(0,r)},()=>n(2,l=!0),({detail:t})=>{n(1,o=t)},()=>!a&&n(2,l=!0),()=>n(1,o=null),function(t){r.dateRange=t,n(0,r)}]}export default class extends e{constructor(t){super(),n(this,t,mn,gn,r,{})}}
